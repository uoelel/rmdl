{
  "hash": "374e79482cd22b11cfe0294ca071b148",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"RMDL -- Week 6\"\nsubtitle: \"Varying effects II\"\n---\n\n::: {.cell}\n\n:::\n\n\n\n## Introduction\n\n::: callout-warning\nWhen working through these tutorials, **make sure you are in the course Quarto Project** you created.\n\nYou know you are in a Quarto Project because you can see the name of the Project in the top-right corner of RStudio, next to the light-blue cube icon.\n\nIf you see `Project (none)` in the top-right corner, that means **you are not** in a Quarto Project.\n\nTo make sure you are in the Quarto project, you can open the project by going to the project folder in File Explorer (Win) or Finder (macOS) and double click on the `.Rproj` file.\n:::\n\nIn this tutorial you will run a Bayesian model with the data from Martin 2020 (DOI [10.1177/0956797620931108](https://doi.org/10.1177/0956797620931108)). You can get the data by downloading the [zip file](data.zip) with all the data from this course. The Martin 2020 data is in `martin2020/data_anonymized`. The file `martin2020/data_anonymized/README.txt` contains information on the columns found in the data. You will have to bind the English and Kîîtharaka data.\n\nFilter the data to have only \"post-pre\" trials (`trial_type`) and address the following research question:\n\n> Do both English and Kîîtharaka show a preference for post-changed items (i.e. greater accuracy) in both conditions (words and shapes)?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neng <- read_csv(\"data/martin2020/data_anonymized/English_anon.csv\") |> \n  mutate(language = \"English\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 2063 Columns: 22\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): condition, subjID, phase, trial_type, target, correct, wrong, stra...\ndbl (12): trial, correct_order, lang1_rating, lang2, lang2_rating, lang3, la...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nkii <- read_csv(\"data/martin2020/data_anonymized/Kiitharaka_anon.csv\") |> \n  mutate(language = \"Kiitharaka\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 2880 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): subjID, condition, phase, target, correct_choice, wrong_choice, tri...\ndbl (4): correct_order, response, accuracy, catch_accuracy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\npre_post <- bind_rows(eng, kii) |> \n  filter(trial_type == \"post-pre\") |> \n  mutate(\n    condition = ifelse(condition == \"syllables\", \"words\", condition)\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npre_post_bm <- brm(\n  accuracy ~ 0 + condition:language + (0 + condition || subjID),\n  family = bernoulli,\n  data = pre_post,\n  iter = 4000,\n  control = list(adapt_delta = 0.9999),\n  cores = 4,\n  seed = my_seed,\n  file = \"data/cache/pre_post_bm\"\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(pre_post_bm)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n Family: bernoulli \n  Links: mu = logit \nFormula: accuracy ~ 0 + condition:language + (0 + condition || subjID) \n   Data: pre_post (Number of observations: 3050) \n  Draws: 4 chains, each with iter = 4000; warmup = 2000; thin = 1;\n         total post-warmup draws = 8000\n\nMultilevel Hyperparameters:\n~subjID (Number of levels: 122) \n                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(conditionshapes)     1.90      0.23     1.49     2.39 1.00     1823     3466\nsd(conditionwords)      1.47      0.21     1.12     1.96 1.00     1873     3738\n\nRegression Coefficients:\n                                   Estimate Est.Error l-95% CI u-95% CI Rhat\nconditionshapes:languageEnglish        1.89      0.40     1.11     2.70 1.00\nconditionwords:languageEnglish         1.83      0.37     1.11     2.57 1.00\nconditionshapes:languageKiitharaka    -0.82      0.32    -1.44    -0.19 1.00\nconditionwords:languageKiitharaka     -0.71      0.27    -1.24    -0.19 1.00\n                                   Bulk_ESS Tail_ESS\nconditionshapes:languageEnglish        1051     1975\nconditionwords:languageEnglish         1723     2900\nconditionshapes:languageKiitharaka      718     1427\nconditionwords:languageKiitharaka      1088     2337\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nconditional_effects(pre_post_bm, \"language:condition\")\n```\n\n::: {.cell-output-display}\n![](tutorial-w06-solution_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "tutorial-w06-solution_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}