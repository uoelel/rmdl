{
  "hash": "6a1f94d69fdb3b8551b49135bf65eb91",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Research Methods in Developmental Linguistics -- Week 6\"\nauthor: \"Dr Stefano Coretta\"\ninstitute: \"University of Edinburgh\"\nformat:\n  mono-light-revealjs:\n    theme: [default, custom.scss]\n    history: false\nexecute: \n  echo: false\nknitr:\n  opts_chunk:\n    dev: \"ragg_png\"\nfilters: [\"tachyonsextra\"]\n---\n\n\n\n## Song 2020\n\n\n\n\n\n\n\n::: box-note\n-   Data from [Song 2020](https://doi.org/10.1017/S0272263120000170).\n\n-   Shallow morphological representation in L2 speakers.\n\n-   **Lexical decision task**: Is the word a real English word or not?\n\n-   **Priming paradigm**:\n\n    -   **Prime**: *prolong* (unrelated), *unkind* (constituent), *kindness* (non-constituent).\n\n    -   **Target**: *unkindness* (*\\[un-kind\\]-ness*, not *un-\\[kind-ness\\]*).\n\n-   English L1 and English L2/Cantonese L1 participants.\n:::\n\n## Song 2020: hypotheses\n\n::: box-warning\nVague hypothesis:\n\n> The Shallow Structure Hypothesis (SSH) allows the possibility for nonnative speakers to show strong priming effects from nonconstituent and constituent primes equally because the shallow processing route, which relies more heavily on semantic and surface-level information than on structural information.\n:::\n\n## Song 2020: the data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshallow <- read_csv(\"data/song2020/shallow.csv\") |>\n  filter(\n    Critical_Filler == \"Critical\",\n    Branching == \"Left\"\n  ) |> \n  mutate(\n    accuracy = ifelse(ACC == 0, \"incorrect\", \"correct\"),\n    accuracy = factor(accuracy, levels = c(\"incorrect\", \"correct\"))\n  )\nshallow\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,170 × 12\n   Group ID    List  Target         ACC    RT logRT Critical_Filler Word_Nonword\n   <chr> <chr> <chr> <chr>        <dbl> <dbl> <dbl> <chr>           <chr>       \n 1 L1    L1_01 A     unawareness      1   603  6.40 Critical        Word        \n 2 L1    L1_01 A     unholiness       1   739  6.61 Critical        Word        \n 3 L1    L1_01 A     unhappiness      1   370  5.91 Critical        Word        \n 4 L1    L1_01 A     unsharpness      1   821  6.71 Critical        Word        \n 5 L1    L1_01 A     unripeness       0  1035  6.94 Critical        Word        \n 6 L1    L1_01 A     unkindness       1   498  6.21 Critical        Word        \n 7 L1    L1_01 A     unwariness       1  1133  7.03 Critical        Word        \n 8 L1    L1_01 A     unclearness      1   513  6.24 Critical        Word        \n 9 L1    L1_01 A     reobtainable     0   964  6.87 Critical        Word        \n10 L1    L1_01 A     resealable       1   709  6.56 Critical        Word        \n# ℹ 1,160 more rows\n# ℹ 3 more variables: Relation_type <chr>, Branching <chr>, accuracy <fct>\n```\n\n\n:::\n:::\n\n\n\n## Song 2020: accuracy\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/shallow-acc-1.png){width=960}\n:::\n:::\n\n\n\n## Bernoulli regression (accuracy)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_seed <- 4235\n\nsha_bm_1 <- brm(\n  accuracy ~ 0 + Group:Relation_type,\n  family = bernoulli,\n  data = shallow,\n  cores = 4,\n  seed = my_seed,\n  file = \"data/cache/sha_bm_1\"\n)\n```\n:::\n\n\n\n## Bernoulli regression: expected predictions\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/sha-bm-1-cond-1.png){width=960}\n:::\n:::\n\n\n\n## BUT...\n\n::: box-error\n-   Multiple observations from different participants.\n\n-   Multiple observations from different target words.\n:::\n\n. . .\n\n::: box-tip\n-   We need to include **varying terms**.\n:::\n\n## By-subject accuracy\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/shallow-id-1.png){width=960}\n:::\n:::\n\n\n\n## By-target accuracy\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/shallow-target-1.png){width=960}\n:::\n:::\n\n\n\n## By-subject and by-target varying terms\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsha_bm_2 <- brm(\n  ACC ~ 0 + Group:Relation_type +\n    (0 + Relation_type | ID) +\n    (0 + Group:Relation_type | Target),\n  family = bernoulli,\n  data = shallow,\n  cores = 4,\n  seed = my_seed,\n  file = \"data/cache/sha_bm_2\"\n)\n```\n:::\n\n\n\n## By-subject and by-target model: expected predictions plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/sha-bm-2-conds-1.png){width=960}\n:::\n:::\n\n\n\n## Difference between non/constituent in L2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsha_bm_2_draws <- as_draws_df(sha_bm_2, variable = \"b_\", regex = TRUE)\n\nsha_bm_2_draws <- sha_bm_2_draws |> \n  mutate(\n    diff_l2 = `b_GroupL2:Relation_typeNonConstituent` - `b_GroupL2:Relation_typeConstituent`\n  )\n```\n:::\n\n\n\n## Difference between non/constituent in L2: plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/sha-bm-diff-plot-1.png){width=960}\n:::\n:::\n\n\n\n## Difference between non/constituent in L2: CrIs\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsha_bm_2_draws |> \n  select(diff_l2) |> \n  summarise_draws(~quantile(.x, probs = c(0.05, 0.95, 0.5, 0.85))) |> \n  mutate(\n    across(where(is.numeric), ~round(.x, digits = 2))\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 5\n  variable  `5%` `95%` `50%` `85%`\n  <chr>    <dbl> <dbl> <dbl> <dbl>\n1 diff_l2   -1.3  0.26 -0.47 -0.01\n```\n\n\n:::\n:::\n\n\n\n## Expected predictions by subject\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsha_bm_2_draws <- as_draws_df(sha_bm_2, variable = c(\"^b_.*\"), regex = TRUE) |> \n  pivot_longer(\n    `b_GroupL1:Relation_typeConstituent`:`b_GroupL2:Relation_typeUnrelated`,\n    names_to = c(\"Group\", \"Relation_type\"),\n    names_pattern = \"b_Group(.*):(.*)\"\n  )\nsha_bm_2_r <- spread_draws(sha_bm_2, r_ID[ID,Relation_type]) |> \n  mutate(\n    Group = str_sub(ID, 1, 2)\n  )\n\nsha_bm_2_draws_r <- left_join(sha_bm_2_draws, sha_bm_2_r) |> \n  mutate(\n    epred = value + r_ID\n  )\n```\n:::\n\n\n\n## Expected predictions by subject: plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/sha-bm-subj-plot-1.png){width=960}\n:::\n:::\n\n\n\n## Difference between expected predictions by-subject\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsha_bm_2_draws_r_wide <- sha_bm_2_draws_r |>\n  select(-value, -r_ID) |> \n  pivot_wider(names_from = Relation_type, values_from = epred) |> \n  mutate(\n    ncon_con = Relation_typeNonConstituent - Relation_typeConstituent\n  )\n```\n:::\n\n\n\n## Difference between expected predictions by-subject: plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lecture-w06_files/figure-revealjs/sha-bm-epred-plot-1.png){width=960}\n:::\n:::\n\n\n\n## Results overview\n\n::: box-note\n> The Shallow Structure Hypothesis (SSH) allows the possibility for nonnative speakers to show strong priming effects from nonconstituent and constituent primes equally because the shallow processing route, which relies more heavily on semantic and surface-level information than on structural information.\n\n-   The 90% CrI of the difference between nonconstituent and constituent in L2 is \\[-1.3, 0.26\\].\n\n-   At 70% probability, the log-odds of the priming effect on accuracy between nonconstituent and constituent in L2 participants differs between -0.01 and -0.47.\n\n-   There is a lot of uncertainty in the expected predictions of individual participants, although there is a tendency for negative differences between nonconstituent and constituent.\n:::\n\n## Summary\n\n::: box-tip\n-   You should include varying terms if data is \"hierarchical\", for example repeated measures from participants or items.\n\n-   Not including varying terms (wrongly) inflates posterior certainty.\n\n-   Frequentist regression models with lme4 often don't converge and researchers simplify the hierarchical structure of the model.\n:::\n",
    "supporting": [
      "lecture-w06_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}